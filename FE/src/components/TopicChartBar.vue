<template>
  <div id="topic-chart-bar">
    <div class="cover-gage" :style="gage">
      <p>{{ emoji[topic[1]] }} "{{ topic[1] }}"</p>
    </div>
    <p>{{ topic[0] }}</p>
  </div>
</template>

<script>
export default {
  name: "TopicChartBar",
  props: {
    topic: Array,
    topicLength: Number,
    index: Number,
    reviewCounts: Number,
  },
  data() {
    return {
      emoji: {
        "ìŒì•…ì´ ì¢‹ì€": "ğŸµ",
        "ì˜ìƒì´ ì•„ë¦„ë‹¤ìš´": "âœ¨",
        "í¡ì…ë ¥ì´ ê°•í•œ": "ğŸ‘€",
        "ì•¡ì…˜ì´ í†µì¾Œí•œ": "ğŸ¤¸â€â™€ï¸",
        "ì—¬ìš´ì´ ë‚¨ëŠ”": "ğŸ’­",
        "ì¸ìƒ ìµœê³ ì˜": "ğŸ‘",
        "ì—°ê¸°ë ¥ì´ ë›°ì–´ë‚œ": "ğŸ­",
        "ìŠ¤í† ë¦¬ê°€ í¥ë¯¸ë¡œìš´": "ğŸ§©",
        "ê¼­ ì˜í™”ê´€ ê°€ì„œ ë´ì•¼í•˜ëŠ”": "ğŸ¬",
        "ê°€ìŠ´ ì„¤ë ˆëŠ”": "ğŸ’˜",
        "ëˆˆë¬¼ì´ íë¥´ëŠ”": "ğŸ’§",
        "ì†ì— ë•€ì„ ì¥ê²Œ í•˜ëŠ”": "ğŸ‘‹ğŸ’¦",
        "ê°€ì¡±ê³¼ ë³´ê¸° ì¢‹ì€": "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦",
        "ì—°ì¸ê³¼ í•¨ê»˜í•˜ê¸° ì¢‹ì€": "ğŸ’‘",
        "í˜¼ì ë³´ê¸° ì¢‹ì€": "ğŸ™â€â™‚ï¸",
      },
    }
  },
  computed: {
    opacity() {
      return 1 - this.index / this.topicLength
    },
    gage() {
      return {
        background: `rgba(169, 210, 90, ${this.opacity})`,
        width: `${(100 * this.topic[0]) / this.reviewCounts}%`,
      }
    },
  },
}
</script>

<style>
#topic-chart-bar {
  /* background: var(--background); */
  background: rgba(255, 255, 255, 0.5);
  padding-inline: 0px 15px;
  margin: 7px 0;

  overflow: hidden;
  width: 100%;
  border: 1px black;
  border-radius: 10px;
  border-top-right-radius: 10px;
  border-bottom-right-radius: 10px;
  /* color: rgba(0, 0, 0, 0.658); */
  /* padding-inline: 5%; */
  color: rgb(0, 0, 0);
  text-align: center;
  display: flex;
  justify-content: space-between;
}
#topic-chart-bar p {
  font-family: "NanumBarunpen";
  margin-block: 0.5em 0.5em;
  margin-left: 0.5em;
  font-size: 1rem;
  font-weight: bold;
}

#topic-chart-bar p:nth-child(2) {
  /* color: rgb(49, 143, 49); */
  color: black;
}

#topic-chart-bar .cover-gage {
  text-align: center;
  /* background: green top left;
  background-size: 50%; */

  width: 100%;
  height: 100%;
  border-top-right-radius: 10px;
  border-bottom-right-radius: 10px;
  white-space: nowrap;
  overflow: visible;
}
</style>
